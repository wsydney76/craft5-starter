{# @param pageInfo craft\web\twig\variables\Paginate #}

{% set paginationLinkClasses = 'w-10 h-10 flex items-center justify-center text-sm/tight font-bold  border-t border-b border-r border-primary rounded-none focus:ring-0  dark:text-white dark:border-gray-50' %}
{% set hoverClasses = 'hover:bg-secondary hover:text-white hover:no-underline' %}
{% set selectedClasses = 'bg-primary text-white' %}

{% if pageInfo.totalPages > 1 %}

    <nav class="my-12 md:flex md:justify-between space-y-8 md:space-y-0 md:space-x-4 rtl:md:space-x-reverse items-center">

        <div>
            {% if pageInfo.prevUrl %}
                {% include '_layouts/partials/button.twig' with {
                    caption: "Previous Page"|t,
                    href: pageInfo.prevUrl
                } only %}
            {% else %}
                {% include '_layouts/partials/button.twig' with {
                    tag: 'div',
                    caption: "Previous Page"|t,
                    color: 'inactive'
                } only %}
            {% endif %}
        </div>


        <div role="navigation" aria-label="Search result pagination"
             class="md:flex md:justify-center flex-wrap border-l border-primary dark:border-gray-50">

            {% set rangeUrls = pageInfo.getDynamicRangeUrls(craft.app.config.custom.paginationRange ?? 5) %}
            {% set rangePageNos = rangeUrls|keys %}

            {% if  rangePageNos|first != 1 %}
                <a class="{{ paginationLinkClasses }} {{ hoverClasses }}" title="{{ 'First Page'|t }}"
                   href="{{ pageInfo.firstUrl }}">{{ svg('@templates/_icons/arrow-left-end.svg') }}</a>
            {% endif %}

            {% for pageNo, url in rangeUrls %}
                <div>
                    {{ tag('a', {
                        text: pageNo,
                        href: url,
                        aria: {
                            label: "Go to page #{pageNo} of #{pageInfo.totalPages}",
                        },
                        class: "#{paginationLinkClasses} #{pageNo == pageInfo.currentPage ? selectedClasses : hoverClasses}"
                    }) }}
                </div>
            {% endfor %}
            
            {% if rangePageNos|last != pageInfo.totalPages %}
                <a class="{{ paginationLinkClasses }} {{ hoverClasses }}" title="{{ 'Last Page'|t }}"
                   href="{{ pageInfo.lastUrl }}">{{ svg('@templates/_icons/arrow-right-end.svg') }}</a>
            {% endif %}

        </div>
        
        <div>
            {% if pageInfo.nextUrl %}
                {% include '_layouts/partials/button.twig' with {
                    caption: "Next Page"|t,
                    href: pageInfo.nextUrl
                } only %}
            {% else %}
                {% include '_layouts/partials/button.twig' with {
                    tag: 'div',
                    caption: "Next Page"|t,
                    color: 'inactive'
                } only %}
            {% endif %}
        </div>
    </nav>

{% endif %}



